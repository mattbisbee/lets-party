(this["webpackJsonplets-party"]=this["webpackJsonplets-party"]||[]).push([[0],{108:function(e,t,a){},145:function(e,t,a){},521:function(e,t,a){"use strict";a.r(t);var c=a(4),n=a.n(c),r=a(99),s=a.n(r),o=(a(108),a(10)),i=a(21),l=a(20),j=a(158),d=a(544),b=a(546),u=a(543),O=a(18),p=a(159),h=a(49),m="TOGGLE_CART",x="UPDATE_CART_QUANTITY",f="ADD_TO_CART",g="ADD_MULTIPLE_TO_CART",v="REMOVE_FROM_CART",y="UPDATE_CATEGORIES",w="UPDATE_CURRENT_CATEGORY",N="UPDATE_PRODUCTS",k=function(e,t){switch(t.type){case N:return Object(o.a)(Object(o.a)({},e),{},{products:Object(h.a)(t.products)});case f:return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(h.a)(e.cart),[t.product])});case g:return Object(o.a)(Object(o.a)({},e),{},{cart:[].concat(Object(h.a)(e.cart),Object(h.a)(t.products))});case x:return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case v:var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(o.a)(Object(o.a)({},e),{},{cartOpen:a.length>0,cart:a});case"CLEAR_CART":return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!1,cart:[]});case m:return Object(o.a)(Object(o.a)({},e),{},{cartOpen:!e.cartOpen});case y:return Object(o.a)(Object(o.a)({},e),{},{categories:Object(h.a)(t.categories)});case w:return Object(o.a)(Object(o.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var C,_,T,S=a(0),E=["value"],I=Object(c.createContext)(),D=I.Provider,B=function(e){e.value;var t,a=Object(p.a)(e,E),n=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(c.useReducer)(k,t)),r=Object(O.a)(n,2),s=r[0],i=r[1];return Object(S.jsx)(D,Object(o.a)({value:[s,i]},a))},A=function(){return Object(c.useContext)(I)},F=a(157),P=a(60),$=a(26),Q=a.n($),R=a(61),L=a(548),M=a(41),U=a(545),q=Object(U.a)(C||(C=Object(M.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),W=(Object(U.a)(_||(_=Object(M.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),Object(U.a)(T||(T=Object(M.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])))),G=a(146),H=a(147),Y=a(100),J=a.n(Y),z=new(function(){function e(){Object(G.a)(this,e)}return Object(H.a)(e,[{key:"getProfile",value:function(){return J()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"isTokenExpired",value:function(e){try{return J()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),V={textDecoration:"none",color:"blue"};var K=function(e){var t=Object(c.useState)({email:"",password:""}),a=Object(O.a)(t,2),n=a[0],r=a[1],s=Object(L.a)(q),l=Object(O.a)(s,2),j=l[0],d=l[1].error,b=function(){var e=Object(R.a)(Q.a.mark((function e(t){var a,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log({email:n.email,password:n.password}),e.next=5,j({variables:{email:n.email,password:n.password}});case 5:a=e.sent,c=a.data.login.token,z.login(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,a=t.name,c=t.value;r(Object(o.a)(Object(o.a)({},n),{},Object(P.a)({},a,c)))};return Object(S.jsxs)("div",{className:"container my-1",children:[Object(S.jsx)("br",{}),Object(S.jsx)("h1",{children:"My Account"}),Object(S.jsxs)("form",{onSubmit:b,children:[Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{for:"email",children:"Email:"}),Object(S.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",name:"email",onChange:u})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{for:"pwd",children:"Password:"}),Object(S.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",name:"password",onChange:u})]}),d?Object(S.jsx)("div",{children:Object(S.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(S.jsx)("br",{}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]}),Object(S.jsx)("br",{}),Object(S.jsx)(i.b,{to:"/signup",style:V,children:"Go to Signup"})]})},X={textDecoration:"none",color:"blue"};var Z=function(e){var t=Object(c.useState)({email:"",password:""}),a=Object(O.a)(t,2),n=a[0],r=a[1],s=Object(L.a)(W),l=Object(O.a)(s,1)[0],j=function(){var e=Object(R.a)(Q.a.mark((function e(t){var a,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName}});case 3:a=e.sent,c=a.data.addUser.token,z.login(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,a=t.name,c=t.value;r(Object(o.a)(Object(o.a)({},n),{},Object(P.a)({},a,c)))};return Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("form",{action:"login",onSubmit:j,children:[Object(S.jsxs)("div",{className:"Register",children:[Object(S.jsx)("br",{}),Object(S.jsx)("h1",{children:"Create an Account"}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(S.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",className:"form-control",id:"firstName",onChange:d})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(S.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",className:"form-control",id:"lastName",onChange:d})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{for:"email",children:"Email:"}),Object(S.jsx)("input",{type:"email",placeholder:"Enter email",name:"email",className:"form-control",id:"email",onChange:d})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{for:"pwd",children:"Password:"}),Object(S.jsx)("input",{placeholder:"Enter password",name:"password",type:"password",className:"form-control",id:"pwd",onChange:d})]}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]}),Object(S.jsx)("br",{}),Object(S.jsx)(i.b,{to:"/login",style:X,children:"Go to Login"})]})})},ee=a(153),te=a.n(ee),ae=a(154),ce=a.n(ae),ne=function(){return Object(S.jsx)("div",{className:"header-wraper",children:Object(S.jsxs)("div",{className:"main-info",children:[Object(S.jsx)("h1",{children:"in One Basket"}),Object(S.jsx)(ce.a,{className:"typed-text",strings:["Make your Basket with Chocolates","Flowers","Cookies","Journals","Teddy Bears","Blankets","Baby Showers","Office Parties","Birthdays"],typeSpeed:40,backSpeed:60,loop:!0})]})})},re=a(155),se=(a(518),a.p+"static/media/user1.cb10c0cb.jpg"),oe=a.p+"static/media/user2.2f91ebf5.jpg",ie=a.p+"static/media/user3.14091a9f.jpg",le=function(){return Object(S.jsxs)(re.Carousel,{showArrows:!0,infinityLoop:!0,showThumbs:!1,showStatus:!1,autoPlay:!0,interval:3e3,children:[Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("img",{src:se,alt:"John Doe"}),Object(S.jsxs)("div",{className:"myCarousel",children:[Object(S.jsx)("h3",{children:"John Doe"}),Object(S.jsx)("p",{className:"pCarousel",children:"I really love this website, I send a basket of chocolates, flowers and a teddy Bear to my now girlfriend, the basket was so cute and she love it! Thank you guys!"})]})]}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("img",{src:oe,alt:"Bob Doe"}),Object(S.jsxs)("div",{className:"myCarousel",children:[Object(S.jsx)("h3",{children:"Bob Doe"}),Object(S.jsx)("p",{className:"pCarousel",children:"I bought a basket of cookies, journals and teddy bears to my grandma and she was very happy about, it was delivered on time."})]})]}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("img",{src:ie,alt:"Mary Doe"}),Object(S.jsxs)("div",{className:"myCarousel",children:[Object(S.jsx)("h3",{children:"Mary Doe"}),Object(S.jsx)("p",{className:"pCarousel",children:"My mom was sick in the hospital and I couldn't visit her cuz I was out of Country but she received a basket of blanket, teddy bear, maccaroon and chocolates, I was so happy for it."})]})]})]})},je=function(){return Object(S.jsxs)("div",{className:"reviews",children:[Object(S.jsx)("h1",{children:"Happy Customers"}),Object(S.jsx)("div",{className:"container",children:Object(S.jsx)("div",{className:"rev-content",children:Object(S.jsx)(le,{})})})]})},de=a.p+"static/media/basket5.f324c57b.jpg",be=function(){return Object(S.jsx)("div",{id:"about",className:"container py-5",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-lg-6 col-xm-12",children:Object(S.jsx)("div",{className:"photo-wrap mb-5",children:Object(S.jsx)("img",{className:"profile-img",src:de,alt:"Pineapple"})})}),Object(S.jsxs)("div",{className:"col-lg-6 col-xm-12",children:[Object(S.jsx)("h1",{className:"about-heading",children:"Welcome to our page!"}),Object(S.jsx)("p",{className:"description",children:"Find the perfect, unique gift basket to send for every occasion. Our gift baskets are filled with something for everyone on your list from chocolates, cookies, flowers, journals, Teddy Bears and Blankets. The only thing you need to add is a lot of Love!!!."}),Object(S.jsx)("p",{className:"deli",children:"WE DELIVER!!!"})]})]})})};var ue=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(te.a,{className:"particles-canvas",params:{particles:{number:{value:30,density:{enable:!0,value_area:900}},shape:{type:"star",stroke:{width:6,color:"#ea33ff"}}}}}),Object(S.jsx)(ne,{}),Object(S.jsx)(be,{}),Object(S.jsx)(je,{})]})};var Oe=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("br",{}),Object(S.jsxs)("div",{className:"mb-3 mx-5 fw-bolder",children:[Object(S.jsx)("label",{for:"exampleFormControlInput1",className:"form-label mt-5",children:"Email address"}),Object(S.jsx)("input",{type:"email",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com"})]}),Object(S.jsxs)("div",{className:"mb-3 mx-5 fw-bolder",children:[Object(S.jsx)("label",{for:"exampleFormControlTextarea1",className:"form-label",children:"Comments"}),Object(S.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3"})]}),Object(S.jsx)("button",{type:"button",className:"btn btn-primary d-grid mx-auto mb-5",children:"Sumbit"})]})},pe=a(531),he=a(530),me=a(529),xe=a(532),fe=a(533),ge=(a(59),function(){return Object(S.jsx)("footer",{className:"footer",children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("div",{className:"row align-items-start",children:[Object(S.jsx)("div",{className:"col",children:Object(S.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:Object(S.jsx)(me.a,{})})}),Object(S.jsx)("div",{className:"col",children:Object(S.jsx)("a",{href:"mailto:carinvid@gmail.com",target:"_blank",rel:"noreferrer",children:Object(S.jsx)(he.a,{})})}),Object(S.jsx)("div",{className:"col",children:Object(S.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:Object(S.jsx)(pe.a,{})})}),Object(S.jsx)("div",{className:"col",children:Object(S.jsx)("a",{href:"https://www.twitter.com/",target:"_blank",rel:"noreferrer",children:Object(S.jsx)(xe.a,{})})}),Object(S.jsx)("div",{className:"col",children:Object(S.jsx)("a",{href:"https://www.reddit.com/",target:"_blank",rel:"noreferrer",children:Object(S.jsx)(fe.a,{})})})]})}),Object(S.jsxs)("p",{className:"pt-3 text-center",children:["Copyright\xa9 ",(new Date).getFullYear(),"\xa0 In One Basket | All Rights Reserved"]}),Object(S.jsxs)("p",{className:"pt-3 text-center",children:[" Site Icon made by ",Object(S.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," from ",Object(S.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})})}),ve=a(103),ye=a(104),we=a(538),Ne=a(534),ke=a(535),Ce=a(536),_e=a(537),Te=(a(64),{margin:"5rem",textDecoration:"none"});var Se,Ee,Ie,De,Be,Ae=function(){return Object(S.jsx)("header",{className:"flex-row px-1",children:Object(S.jsx)("nav",{children:z.loggedIn()?Object(S.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-dark",children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(S.jsx)(ve.a,{icon:ye.a,style:{color:"white"}})}),Object(S.jsx)("div",{className:"collapse navbar-collapse m-auto",id:"navbarSupportedContent",children:Object(S.jsxs)("ul",{className:"navbar-nav m-auto",children:[Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/",style:Te,children:[Object(S.jsx)(Ne.a,{})," Home"]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/categoryMenu",style:Te,children:[Object(S.jsx)(ke.a,{})," Categories and Basket"]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/contact",style:Te,children:[Object(S.jsx)(Ce.a,{})," Contact"]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/",style:Te,onClick:function(){return z.logout()},children:[Object(S.jsx)(_e.a,{})," Logout"]})})]})})]})}):Object(S.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-dark",children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(S.jsx)(ve.a,{icon:ye.a,style:{color:"white"}})}),Object(S.jsx)("div",{className:"collapse navbar-collapse m-auto",id:"navbarSupportedContent",children:Object(S.jsxs)("ul",{className:"navbar-nav m-auto",children:[Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/",style:Te,children:[Object(S.jsx)(Ne.a,{})," Home"]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/categoryMenu",style:Te,children:[Object(S.jsx)(ke.a,{})," Categories and Basket"]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/signup",style:Te,children:[Object(S.jsx)(we.a,{})," Signup"]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/login",style:Te,children:[Object(S.jsx)(we.a,{})," Login"]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/contact",style:Te,children:[Object(S.jsx)(Ce.a,{})," Contact"]})})]})})]})})})})},Fe=a(539),Pe=Object(U.a)(Se||(Se=Object(M.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),$e=Object(U.a)(Ee||(Ee=Object(M.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),Qe=(Object(U.a)(Ie||(Ie=Object(M.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(U.a)(De||(De=Object(M.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"]))));Object(U.a)(Be||(Be=Object(M.a)(["\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"])));function Re(e,t,a){return new Promise((function(c,n){var r,s,o,i=window.indexedDB.open("InOneBasket",1);i.onupgradeneeded=function(e){var t=i.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},i.onerror=function(e){console.log("There was an error")},i.onsuccess=function(n){switch(r=i.result,s=r.transaction(e,"readwrite"),o=s.objectStore(e),r.onerror=function(e){console.log("error",e)},t){case"put":o.put(a),c(a);break;case"get":var l=o.getAll();l.onsuccess=function(){c(l.result)};break;case"delete":o.delete(a._id);break;default:console.log("No valid method")}s.oncomplete=function(){r.close()}}}))}var Le={textDecoration:"none",color:"hotpink"};var Me=function(e){var t=A(),a=Object(O.a)(t,2),c=a[0],n=a[1],r=e.image,s=e.name,l=e._id,j=e.price,d=e.quantity,b=c.cart;return Object(S.jsxs)("div",{className:"container my-1",children:[Object(S.jsxs)(i.b,{style:Le,to:"/products/".concat(l),children:[Object(S.jsx)("img",{alt:s,src:"/images/".concat(r),className:"productImage"}),Object(S.jsx)("p",{className:"categoryPara",children:s})]}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{children:[" ",d," in stock"]}),Object(S.jsxs)("span",{children:["$",j]}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{onClick:function(){var t=b.find((function(e){return e._id===l}));t?(n({type:x,_id:l,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),Re("cart","put",Object(o.a)(Object(o.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(n({type:f,product:Object(o.a)(Object(o.a)({},e),{},{purchaseQuantity:1})}),Re("cart","put",Object(o.a)(Object(o.a)({},e),{},{purchaseQuantity:1})))},children:"Add to Basket"})]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]})};var Ue=function(){var e=A(),t=Object(O.a)(e,2),a=t[0],n=t[1],r=a.currentCategory,s=Object(Fe.a)(Pe),o=s.loading,i=s.data;return Object(c.useEffect)((function(){i?(n({type:N,products:i.products}),i.products.forEach((function(e){Re("products","put",e)}))):o||Re("products","get").then((function(e){n({type:N,products:e})}))}),[i,o,n]),Object(S.jsxs)("div",{className:"my-2",children:[Object(S.jsx)("h2",{className:"catH2",children:"Basket Options:"}),a.products.length?Object(S.jsx)("div",{className:"flex-row",children:(r?a.products.filter((function(e){return e.category._id===r})):a.products).map((function(e){return Object(S.jsx)(Me,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object(S.jsx)("h3",{children:"You haven't added any products yet!"})]})},qe=a(156),We=a(541),Ge=a(540),He=(a(145),function(e){var t=e.item,a=A(),c=Object(O.a)(a,2)[1];return Object(S.jsxs)("div",{className:"flex-row",children:[Object(S.jsx)("div",{className:"container",children:Object(S.jsx)("img",{src:"/images/".concat(t.image),alt:"",className:"cartImage"})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{children:[t.name,", $",t.price]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{children:"Qty: "}),Object(S.jsx)("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var a=e.target.value;"0"===a?(c({type:v,_id:t._id}),Re("cart","delete",Object(o.a)({},t))):(c({type:x,_id:t._id,purchaseQuantity:parseInt(a)}),Re("cart","put",Object(o.a)(Object(o.a)({},t),{},{purchaseQuantity:parseInt(a)})))}}),Object(S.jsx)("span",{role:"img",onClick:function(){return function(e){c({type:v,_id:e._id}),Re("cart","delete",Object(o.a)({},e))}(t)},children:Object(S.jsx)(Ge.a,{})})]})]})]})}),Ye=a(542),Je=Object(qe.a)("pk_test_TYooMQauvdEDq54NiTphI7jx"),ze=function(){var e=A(),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(We.a)($e),s=Object(O.a)(r,2),o=s[0],i=s[1].data;function l(){n({type:m})}return Object(c.useEffect)((function(){i&&Je.then((function(e){e.redirectToCheckout({sessionId:i.checkout.session})}))}),[i]),Object(c.useEffect)((function(){function e(){return(e=Object(R.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re("cart","get");case 2:t=e.sent,n({type:g,products:Object(h.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.cart.length||function(){e.apply(this,arguments)}()}),[a.cart.length,n]),a.cartOpen?Object(S.jsxs)("div",{className:"cart",children:[Object(S.jsx)("br",{}),Object(S.jsx)("h2",{children:"Basket"}),a.cart.length?Object(S.jsxs)("div",{children:[a.cart.map((function(e){return Object(S.jsx)(He,{item:e},e._id)})),Object(S.jsxs)("div",{className:"flex-row space-between",children:[Object(S.jsxs)("strong",{children:["Total: $",function(){var e=0;return a.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()]}),Object(S.jsx)("br",{}),z.loggedIn()?Object(S.jsx)("button",{className:"btn btn-primary btn-lg",onClick:function(){var e=[];a.cart.forEach((function(t){for(var a=0;a<t.purchaseQuantity;a++)e.push(t._id)})),o({variables:{products:e}})},children:"Checkout"}):Object(S.jsx)("span",{children:" (Please log in to purchase)"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"btn btn-primary btn-lg",onClick:l,children:"Minimize Basket"})]})]}):Object(S.jsx)("h3",{children:"Add items to your custom Gift Basket!"})]}):Object(S.jsxs)("div",{className:"cart-closed",onClick:l,children:[Object(S.jsx)("br",{}),Object(S.jsxs)("span",{role:"img","aria-label":"trash",children:[Object(S.jsx)(Ye.a,{}),Object(S.jsx)("br",{}),"Your Custom Basket"]})]})};var Ve=function(){var e=A(),t=Object(O.a)(e,2),a=t[0],n=t[1],r=a.categories,s=Object(Fe.a)(Qe),o=s.loading,i=s.data;return Object(c.useEffect)((function(){i?(n({type:y,categories:i.categories}),i.categories.forEach((function(e){Re("categories","put",e)}))):o||Re("categories","get").then((function(e){n({type:y,categories:e})}))}),[i,o,n]),Object(S.jsxs)("div",{className:"container contBtn",children:[Object(S.jsx)("br",{}),Object(S.jsx)("h2",{className:"catH2",children:"Category Choices:"}),r.map((function(e){return Object(S.jsx)("button",{className:"btn btn-primary btn-lg",onClick:function(){var t;t=e._id,n({type:w,currentCategory:t})},children:e.name},e._id)})),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(Ue,{}),Object(S.jsx)(ze,{})]})},Ke={textDecoration:"none"};var Xe=function(){var e=A(),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(l.f)().id,s=Object(c.useState)({}),j=Object(O.a)(s,2),d=j[0],b=j[1],u=Object(Fe.a)(Pe),p=u.loading,h=u.data,m=a.products,g=a.cart;return Object(c.useEffect)((function(){m.length?b(m.find((function(e){return e._id===r}))):h?(n({type:N,products:h.products}),h.products.forEach((function(e){Re("products","put",e)}))):p||Re("products","get").then((function(e){n({type:N,products:e})}))}),[m,h,p,n,r]),Object(S.jsx)(S.Fragment,{children:d&&g?Object(S.jsxs)("div",{className:"container my-1",children:[Object(S.jsx)("h2",{children:d.name}),Object(S.jsx)("p",{children:d.description}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Price:"})," $",d.price," ",Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{onClick:function(){var e=g.find((function(e){return e._id===r}));e?(n({type:x,_id:r,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),Re("cart","put",Object(o.a)(Object(o.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(n({type:f,product:Object(o.a)(Object(o.a)({},d),{},{purchaseQuantity:1})}),Re("cart","put",Object(o.a)(Object(o.a)({},d),{},{purchaseQuantity:1})))},children:"Add to Basket"}),Object(S.jsx)("button",{disabled:!g.find((function(e){return e._id===d._id})),onClick:function(){n({type:v,_id:d._id}),Re("cart","delete",Object(o.a)({},d))},children:"Remove from Basket"})]}),Object(S.jsx)("img",{src:"/images/".concat(d.image),alt:d.name}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(i.b,{to:"/",style:Ke,children:"Back to Home"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(i.b,{to:"/categoryMenu",style:Ke,children:"Back to Categories"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(ze,{})]}):null})},Ze=Object(j.a)({uri:"/graphql"}),et=Object(F.a)((function(e,t){var a=t.headers,c=localStorage.getItem("id_token");return{headers:Object(o.a)(Object(o.a)({},a),{},{authorization:c?"Bearer ".concat(c):""})}})),tt=new d.a({link:et.concat(Ze),cache:new b.a});var at=function(){return Object(S.jsx)(u.a,{client:tt,children:Object(S.jsx)(i.a,{children:Object(S.jsx)("div",{children:Object(S.jsxs)(B,{children:[Object(S.jsx)(Ae,{}),Object(S.jsxs)(l.c,{children:[Object(S.jsx)(l.a,{exact:!0,path:"/",component:ue}),Object(S.jsx)(l.a,{exact:!0,path:"/login",component:K}),Object(S.jsx)(l.a,{exact:!0,path:"/signup",component:Z}),Object(S.jsx)(l.a,{exact:!0,path:"/contact",component:Oe}),Object(S.jsx)(l.a,{exact:!0,path:"/categoryMenu",component:Ve}),Object(S.jsx)(l.a,{exact:!0,path:"/products/:id",component:Xe})]}),Object(S.jsx)(ge,{})]})})})})},ct=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function nt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var rt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,549)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(at,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ct?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var c=a.headers.get("content-type");404===a.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):nt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):nt(t,e)}))}}(),rt()},59:function(e,t,a){}},[[521,1,2]]]);
//# sourceMappingURL=main.ab016e28.chunk.js.map